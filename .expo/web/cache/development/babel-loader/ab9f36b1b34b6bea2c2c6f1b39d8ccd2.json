{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nexport default useApi = function useApi(apiFunc) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var request = function request() {\n    var response;\n    return _regeneratorRuntime.async(function request$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(apiFunc());\n\n          case 3:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 7;\n              break;\n            }\n\n            console.log(response);\n            return _context.abrupt(\"return\", setError(true));\n\n          case 7:\n            setData(response.data);\n            setLoading(false);\n            setError(false);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return {\n    request: request,\n    data: data,\n    error: error,\n    loading: loading\n  };\n};","map":{"version":3,"sources":["D:/Node.Js/React Native/weather/app/api/useApi.js"],"names":["useState","useApi","apiFunc","data","setData","error","setError","loading","setLoading","request","response","ok","console","log"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,eAAeC,MAAM,GAAG,gBAACC,OAAD,EAAa;AAAA,kBACXF,QAAQ,CAAC,EAAD,CADG;AAAA;AAAA,MAC5BG,IAD4B;AAAA,MACtBC,OADsB;;AAAA,mBAETJ,QAAQ,CAAC,KAAD,CAFC;AAAA;AAAA,MAE5BK,KAF4B;AAAA,MAErBC,QAFqB;;AAAA,mBAGLN,QAAQ,CAAC,IAAD,CAHH;AAAA;AAAA,MAG5BO,OAH4B;AAAA,MAGnBC,UAHmB;;AAKnC,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AACdD,YAAAA,UAAU,CAAC,IAAD,CAAV;AADc;AAAA,6CAESN,OAAO,EAFhB;;AAAA;AAERQ,YAAAA,QAFQ;;AAAA,gBAGTA,QAAQ,CAACC,EAHA;AAAA;AAAA;AAAA;;AAIZC,YAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAJY,6CAKLJ,QAAQ,CAAC,IAAD,CALH;;AAAA;AAQdF,YAAAA,OAAO,CAACM,QAAQ,CAACP,IAAV,CAAP;AACAK,YAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,YAAAA,QAAQ,CAAC,KAAD,CAAR;;AAVc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAYA,SAAO;AAAEG,IAAAA,OAAO,EAAPA,OAAF;AAAWN,IAAAA,IAAI,EAAJA,IAAX;AAAiBE,IAAAA,KAAK,EAALA,KAAjB;AAAwBE,IAAAA,OAAO,EAAPA;AAAxB,GAAP;AACD,CAlBD","sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default useApi = (apiFunc) => {\r\n  const [data, setData] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const request = async () => {\r\n    setLoading(true);\r\n    const response = await apiFunc();\r\n    if (!response.ok) {\r\n      console.log(response);\r\n      return setError(true);\r\n    }\r\n\r\n    setData(response.data);\r\n    setLoading(false);\r\n    setError(false);\r\n  };\r\n  return { request, data, error, loading };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}