{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport weatherApi from \"../api/weather\";\nexport var SET_CITY = \"SET_CITY\";\nexport var SET_COORDS = \"SET_COORDS\";\nexport var SET_ACTIVE = \"SET_ACTIVE\";\nexport var DATA_CITY = \"DATA_CITY\";\nexport var DATA_COORD = \"DATA_COORD\";\nexport var LIST_LOCATIONS = \"LIST_LOCATIONS\";\nexport var ERROR = \"ERROR\";\nexport var createActions = function createActions(dispatch) {\n  return {\n    listLocations: function listLocations() {\n      dispatch({\n        type: LIST_LOCATIONS\n      });\n    },\n    setActive: function setActive(city) {\n      dispatch({\n        type: SET_ACTIVE,\n        payload: city\n      });\n    },\n    setCity: function setCity(formData) {\n      dispatch({\n        type: SET_CITY,\n        payload: formData\n      });\n    },\n    setCoords: function setCoords() {\n      try {\n        dispatch({\n          type: SET_COORDS,\n          payload: {\n            lat: 0,\n            lon: 0\n          }\n        });\n      } catch (error) {\n        console.log(error);\n        dispatch({\n          type: ERROR,\n          payload: \"Couldn't get current location of your device\"\n        });\n      }\n    },\n    dataFromCity: function dataFromCity(city) {\n      var wData;\n      return _regeneratorRuntime.async(function dataFromCity$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(weatherApi.getCity(city));\n\n            case 3:\n              wData = _context.sent;\n\n              if (!wData || !wData.data || !wData.data.current) {\n                dispatch({\n                  type: ERROR,\n                  payload: \"Corrupted Response\"\n                });\n              } else {\n                dispatch({\n                  type: DATA_CITY,\n                  payload: wData\n                });\n              }\n\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              dispatch({\n                type: ERROR,\n                payload: \"Error\"\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    },\n    dataFromCoords: function dataFromCoords(lat, lon) {\n      var wData;\n      return _regeneratorRuntime.async(function dataFromCoords$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(weatherApi.getCoords(lat, lon));\n\n            case 3:\n              wData = _context2.sent;\n\n              if (!wData || !wData.data || !wData.data.current) {\n                dispatch({\n                  type: ERROR,\n                  payload: \"Corrupted Response\"\n                });\n              } else {\n                dispatch({\n                  type: DATA_COORD,\n                  payload: wData\n                });\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n              dispatch({\n                type: ERROR,\n                payload: \"Error\"\n              });\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    }\n  };\n};","map":{"version":3,"sources":["D:/Node.Js/React Native/weather/app/context/actions.js"],"names":["weatherApi","SET_CITY","SET_COORDS","SET_ACTIVE","DATA_CITY","DATA_COORD","LIST_LOCATIONS","ERROR","createActions","dispatch","listLocations","type","setActive","city","payload","setCity","formData","setCoords","lat","lon","error","console","log","dataFromCity","getCity","wData","data","current","dataFromCoords","getCoords"],"mappings":"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","sourcesContent":["import weatherApi from \"../api/weather\";\r\n\r\nexport const SET_CITY = \"SET_CITY\";\r\nexport const SET_COORDS = \"SET_COORDS\";\r\nexport const SET_ACTIVE = \"SET_ACTIVE\";\r\nexport const DATA_CITY = \"DATA_CITY\";\r\nexport const DATA_COORD = \"DATA_COORD\";\r\nexport const LIST_LOCATIONS = \"LIST_LOCATIONS\";\r\nexport const ERROR = \"ERROR\";\r\n\r\nexport const createActions = (dispatch) => ({\r\n  listLocations: () => {\r\n    dispatch({\r\n      type: LIST_LOCATIONS,\r\n    });\r\n  },\r\n  setActive: (city) => {\r\n    //will be used to see datas of different location\r\n    dispatch({\r\n      type: SET_ACTIVE,\r\n      payload: city,\r\n    });\r\n  },\r\n\r\n  setCity: (formData) => {\r\n    dispatch({\r\n      type: SET_CITY,\r\n      payload: formData,\r\n    });\r\n  },\r\n\r\n  setCoords: () => {\r\n    try {\r\n      //Get Coords from phone\r\n      //useLocation\r\n      dispatch({\r\n        type: SET_COORDS,\r\n        payload: { lat: 0, lon: 0 }, //coords lat, lon\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      //Error\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: \"Couldn't get current location of your device\",\r\n      });\r\n    }\r\n  },\r\n\r\n  dataFromCity: async (city) => {\r\n    try {\r\n      const wData = await weatherApi.getCity(city);\r\n      if (!wData || !wData.data || !wData.data.current) {\r\n        dispatch({\r\n          type: ERROR,\r\n          payload: \"Corrupted Response\",\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: DATA_CITY,\r\n          payload: wData,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: \"Error\",\r\n      });\r\n    }\r\n  },\r\n\r\n  dataFromCoords: async (lat, lon) => {\r\n    try {\r\n      const wData = await weatherApi.getCoords(lat, lon);\r\n      if (!wData || !wData.data || !wData.data.current) {\r\n        dispatch({\r\n          type: ERROR,\r\n          payload: \"Corrupted Response\",\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: DATA_COORD,\r\n          payload: wData,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: \"Error\",\r\n      });\r\n    }\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}